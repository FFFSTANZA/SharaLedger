<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>E-Way Bill - {{ doc.name }}</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 13px;
        line-height: 1.6;
        color: #333;
        padding: 20mm;
      }

      .header {
        text-align: center;
        border-bottom: 3px solid #2563eb;
        padding-bottom: 15px;
        margin-bottom: 20px;
      }

      .header h1 {
        font-size: 24px;
        color: #2563eb;
        margin-bottom: 5px;
      }

      .header p {
        color: #666;
        font-size: 12px;
      }

      .section {
        margin-bottom: 20px;
        border: 1px solid #ddd;
        border-radius: 5px;
        padding: 15px;
        background: #f9fafb;
      }

      .section-title {
        font-size: 16px;
        font-weight: 600;
        color: #1f2937;
        margin-bottom: 12px;
        padding-bottom: 5px;
        border-bottom: 2px solid #e5e7eb;
      }

      .info-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
      }

      .info-item {
        display: flex;
        flex-direction: column;
      }

      .info-item.full-width {
        grid-column: 1 / -1;
      }

      .info-label {
        font-size: 11px;
        color: #6b7280;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 3px;
      }

      .info-value {
        font-size: 14px;
        color: #111827;
        font-weight: 500;
      }

      .info-value.highlight {
        color: #2563eb;
        font-weight: 600;
        font-size: 16px;
      }

      .status-badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 12px;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
      }

      .status-draft {
        background: #f3f4f6;
        color: #6b7280;
      }

      .status-active {
        background: #d1fae5;
        color: #065f46;
      }

      .status-cancelled {
        background: #fee2e2;
        color: #991b1b;
      }

      .status-expired {
        background: #fef3c7;
        color: #92400e;
      }

      .footer {
        margin-top: 30px;
        padding-top: 15px;
        border-top: 1px solid #ddd;
        text-align: center;
        font-size: 11px;
        color: #666;
      }

      @media print {
        body {
          padding: 10mm;
        }
        .section {
          page-break-inside: avoid;
        }
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>E-Way Bill</h1>
      <p>Compliance Document for Goods Transportation</p>
    </div>

    <!-- E-Way Bill Details -->
    <div class="section">
      <div class="section-title">E-Way Bill Information</div>
      <div class="info-grid">
        <div class="info-item">
          <div class="info-label">E-Way Bill Number</div>
          <div class="info-value highlight">
            {{ doc.ewayBillNo || 'Not Generated' }}
          </div>
        </div>
        <div class="info-item">
          <div class="info-label">Status</div>
          <div class="info-value">
            <span class="status-badge status-{{ doc.status?.toLowerCase() }}">
              {{ doc.status || 'Draft' }}
            </span>
          </div>
        </div>
        <div class="info-item">
          <div class="info-label">E-Way Bill Date</div>
          <div class="info-value">
            {{ doc.ewayBillDate ? fyo.format(doc.ewayBillDate, 'Date') : '-' }}
          </div>
        </div>
        <div class="info-item">
          <div class="info-label">Valid Upto</div>
          <div class="info-value">
            {{ doc.validUpto ? fyo.format(doc.validUpto, 'Date') : '-' }}
          </div>
        </div>
      </div>
    </div>

    <!-- Invoice Reference -->
    <div class="section">
      <div class="section-title">Invoice Reference</div>
      <div class="info-grid">
        <div class="info-item">
          <div class="info-label">Invoice Number</div>
          <div class="info-value">{{ doc.invoiceNo }}</div>
        </div>
        <div class="info-item">
          <div class="info-label">Invoice Date</div>
          <div class="info-value">
            {{ fyo.format(doc.invoiceDate, 'Date') }}
          </div>
        </div>
        <div class="info-item">
          <div class="info-label">Invoice Value</div>
          <div class="info-value">
            {{ fyo.format(doc.invoiceValue, 'Currency') }}
          </div>
        </div>
        <div class="info-item">
          <div class="info-label">Supply Type</div>
          <div class="info-value">{{ doc.supplyType }}</div>
        </div>
      </div>
    </div>

    <!-- GST Details -->
    <div class="section">
      <div class="section-title">GST Details</div>
      <div class="info-grid">
        <div class="info-item">
          <div class="info-label">From GSTIN</div>
          <div class="info-value">{{ doc.fromGstin || '-' }}</div>
        </div>
        <div class="info-item">
          <div class="info-label">To GSTIN</div>
          <div class="info-value">{{ doc.toGstin || '-' }}</div>
        </div>
        <div class="info-item">
          <div class="info-label">Transaction Sub Type</div>
          <div class="info-value">{{ doc.subType }}</div>
        </div>
      </div>
    </div>

    <!-- Transport Details -->
    <div class="section">
      <div class="section-title">Transport Details</div>
      <div class="info-grid">
        <div class="info-item">
          <div class="info-label">Transport Mode</div>
          <div class="info-value">{{ doc.transportMode }}</div>
        </div>
        <div class="info-item">
          <div class="info-label">Vehicle Number</div>
          <div class="info-value">{{ doc.vehicleNo || '-' }}</div>
        </div>
        <div class="info-item">
          <div class="info-label">Transporter Name</div>
          <div class="info-value">{{ doc.transporterName || '-' }}</div>
        </div>
        <div class="info-item">
          <div class="info-label">Distance (KM)</div>
          <div class="info-value">{{ doc.distanceKm || '-' }}</div>
        </div>
      </div>
    </div>

    <!-- Remarks -->
    {{ if doc.remarks }}
    <div class="section">
      <div class="section-title">Remarks</div>
      <div class="info-item full-width">
        <div class="info-value">{{ doc.remarks }}</div>
      </div>
    </div>
    {{ endif }}

    <!-- Cancellation Reason -->
    {{ if doc.cancellationReason }}
    <div class="section">
      <div class="section-title">Cancellation Reason</div>
      <div class="info-item full-width">
        <div class="info-value">{{ doc.cancellationReason }}</div>
      </div>
    </div>
    {{ endif }}

    <div class="footer">
      <p>
        This is a system-generated document for record-keeping purposes.<br />
        Official E-Way Bill must be generated from the GST Portal.
      </p>
      <p style="margin-top: 10px">
        Generated on: {{ fyo.format(new Date(), 'Datetime') }}
      </p>
    </div>
  </body>
</html>
